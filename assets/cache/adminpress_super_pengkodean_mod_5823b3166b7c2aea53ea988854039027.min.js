
$(document).ready(function(){var table=$('#data_pengkodean').DataTable({ajax:url+'listener_show_all',processing:true,columns:[{sName:"id"},{sName:"kode"},{sName:"unik"},{sName:"ket"},{sName:"aksi"}],columnDefs:[{targets:[0],visible:false},],dom:'Bfrtip',buttons:['copy','csv','excel','pdf','print']});$(document).on('click','.new',function(){$('#form_pengkodean').trigger("reset");$('#modal_pengkodean .modal-title').html('Tambah Baru');$('#modal_pengkodean .modal-footer button').html('Tambah');$('#modal_pengkodean').modal('show');})
$(document).on('click','.edit',function(){var id_pengkodean=$(this).data('id');var token=$('input[name="ci_csrf_token"]').val();$.ajax({type:'post',url:url+'get_pengkodean',data:{id:id_pengkodean},dataType:'json',success:function(dt){$('#modal_pengkodean').modal('show');$('#modal_pengkodean .modal-title').html('Edit '+dt.kode);$('#modal_pengkodean input[name="id"]').val(dt.id);$('#modal_pengkodean input[name="kode"]').val(dt.kode);$('#modal_pengkodean textarea[name="unik"]').val(dt.unik);$('#modal_pengkodean input[name="ket"]').val(dt.ket);$('#modal_pengkodean .modal-footer button').html('Perbarui');}});})
$(document).on('click','.delete',function(){var id_pengkodean=$(this).data('id');$('#id_delete').val(id_pengkodean)
$('#modal_confirm').modal('show');})
$('#form_pengkodean').on('submit',function(e){e.preventDefault();$.ajax({type:'post',url:url+'save',data:$('#form_pengkodean').serialize(),dataType:'json',success:function(dt){$("#modal_pengkodean").modal("hide");table.ajax.reload();$('#form_pengkodean').trigger("reset");}});});$(document).on('click','#confirm_delete',function(){var id_pengkodean=$('#id_delete').val();$.ajax({type:'post',url:url+'delete',data:{id:id_pengkodean},dataType:'json',success:function(dt){table.ajax.reload();}});})})